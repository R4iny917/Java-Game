<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>StartScreen.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">final_homework</a> &gt; <a href="index.source.html" class="el_package">com.homework.screen</a> &gt; <span class="el_source">StartScreen.java</span></div><h1>StartScreen.java</h1><pre class="source lang-java linenums">package com.homework.screen;
import java.awt.Color;
import asciiPanel.AsciiPanel;
import java.awt.event.KeyEvent;
import java.io.FileNotFoundException;
import java.io.IOException;

import com.homework.loadsave.PlayRecord;
import com.homework.world.MapPath;

/**
 *
 * @author Aeranythe Echosong
 */
<span class="fc" id="L15">public class StartScreen implements Screen {</span>

    int a;int b;
    int start_length,end_length;
<span class="fc" id="L19">    int now_status = 0;//0表示处于开始游戏菜单，1表示处于加载游戏菜单，2表示加载游戏地图，3表示播放游戏录制</span>
    Color white, red, background;
<span class="fc" id="L21">    String line = &quot;+-----------------+&quot;;</span>
<span class="fc" id="L22">    boolean ready_to_multiple = false;</span>

    @Override
    public Screen respondToUserInput(KeyEvent key) {
<span class="fc bfc" id="L26" title="All 4 branches covered.">        if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 0)</span>
<span class="fc" id="L27">            return new PlayScreen();</span>
<span class="fc bfc" id="L28" title="All 4 branches covered.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 1){</span>
<span class="fc" id="L29">            PlayScreen.switch_load_game_status();</span>
<span class="fc" id="L30">            return new PlayScreen();</span>
        }
<span class="pc bpc" id="L32" title="1 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 2){</span>
<span class="nc" id="L33">            PlayRecord.switch_record_status();</span>
            try {
<span class="nc" id="L35">                return new RecordScreen();</span>
<span class="nc" id="L36">            } catch (ClassNotFoundException e) {</span>
<span class="nc" id="L37">                e.printStackTrace();</span>
<span class="nc" id="L38">            } catch (IOException e) {</span>
<span class="nc" id="L39">                e.printStackTrace();</span>
<span class="nc" id="L40">            }</span>
        }
<span class="pc bpc" id="L42" title="1 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 3){</span>
<span class="nc" id="L43">            MapPath.choose_path();</span>
<span class="nc" id="L44">            return this;</span>
        }
<span class="pc bpc" id="L46" title="1 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 4){</span>
<span class="pc bpc" id="L47" title="1 of 2 branches missed.">            if(ready_to_multiple == true) ready_to_multiple = false;</span>
<span class="fc" id="L48">            else ready_to_multiple = true;</span>
<span class="fc" id="L49">            return this;</span>
        }
<span class="pc bpc" id="L51" title="3 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 5){</span>
<span class="nc" id="L52">            return new ServerScreen();</span>
        }
<span class="pc bpc" id="L54" title="3 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_ENTER &amp;&amp; now_status == 6){</span>
<span class="nc" id="L55">            return new ClientScreen();</span>
        }
<span class="pc bpc" id="L57" title="1 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_S || key.getKeyCode() == KeyEvent.VK_DOWN){</span>
<span class="fc bfc" id="L58" title="All 2 branches covered.">            if(now_status == 0) now_status = 1;</span>
<span class="fc bfc" id="L59" title="All 2 branches covered.">            else if( now_status == 1)now_status = 2;</span>
<span class="fc bfc" id="L60" title="All 2 branches covered.">            else if(now_status == 2)now_status = 3;</span>
<span class="fc bfc" id="L61" title="All 2 branches covered.">            else if(now_status == 3)now_status = 4;</span>
<span class="fc bfc" id="L62" title="All 4 branches covered.">            else if(now_status == 4 &amp;&amp; ready_to_multiple == true)now_status = 5;</span>
<span class="pc bpc" id="L63" title="1 of 4 branches missed.">            else if(now_status == 5 &amp;&amp; ready_to_multiple == true)now_status = 6;</span>
<span class="fc" id="L64">            return this;</span>
        }
<span class="pc bpc" id="L66" title="3 of 4 branches missed.">        else if(key.getKeyCode() == KeyEvent.VK_W ||key.getKeyCode() == KeyEvent.VK_UP){</span>
<span class="fc bfc" id="L67" title="All 2 branches covered.">            if(now_status == 1)now_status = 0;</span>
<span class="fc bfc" id="L68" title="All 2 branches covered.">            else if( now_status == 2)now_status = 1;</span>
<span class="fc bfc" id="L69" title="All 2 branches covered.">            else if( now_status == 3)now_status = 2;</span>
<span class="fc bfc" id="L70" title="All 2 branches covered.">            else if( now_status == 4)now_status = 3;</span>
<span class="pc bpc" id="L71" title="1 of 4 branches missed.">            else if( now_status == 5 &amp;&amp; ready_to_multiple == true)now_status = 4;</span>
<span class="pc bpc" id="L72" title="2 of 4 branches missed.">            else if( now_status == 6 &amp;&amp; ready_to_multiple == true)now_status = 5;</span>
<span class="fc" id="L73">            return this;</span>
        }    
<span class="nc" id="L75">        return this;</span>
    }

    @Override
    public void displayOutput(AsciiPanel terminal) {
<span class="fc" id="L80">        red = Color.RED;</span>
<span class="fc" id="L81">        white = Color.WHITE;</span>
<span class="fc" id="L82">        background = new Color(139, 35, 35);</span>
<span class="fc" id="L83">        String title = &quot;|  _ \\| '__/ _ \\| '_ ` _ \\ / _` | __/ _ \\ &quot;;</span>
<span class="fc" id="L84">        String start_game =   &quot;   Start  Game   &quot;;</span>
<span class="fc" id="L85">        String load_game =    &quot;   Load   Game   &quot;;</span>
<span class="fc" id="L86">        String load_map =     &quot;   Load    Map   &quot;;</span>
<span class="fc" id="L87">        String record_game =  &quot;   Play Record   &quot;;</span>
<span class="fc" id="L88">        String multiple =     &quot; Multiple Player &quot;;</span>
<span class="fc" id="L89">        String server   =     &quot;  Server Player  &quot;;</span>
<span class="fc" id="L90">        String client   =     &quot;  Client Player  &quot;;</span>
<span class="fc" id="L91">        start_length =  (terminal.getWidthInCharacters() - start_game.length())/2;</span>
<span class="fc" id="L92">        end_length = start_length + start_game.length();</span>
<span class="fc" id="L93">        a = (terminal.getWidthInCharacters() - title.length())/2;</span>
<span class="fc" id="L94">        b = terminal.getHeightInCharacters()/4 + 3;</span>
<span class="fc" id="L95">        terminal.write(&quot; ____           &quot;,a, b+0,white);terminal.write(&quot;                 _ &quot;,a+16, b+0,red);</span>
<span class="fc" id="L96">        terminal.write(&quot;| __ ) _ __ ___ &quot;,a, b+1,white);terminal.write(&quot; _ __ ___   __ _| |_ ___&quot;,a+16, b+1,red);</span>
<span class="fc" id="L97">        terminal.write(&quot;|  _ \\| '__/ _ \\&quot;,a,b+2,white);terminal.write(&quot;| '_ ` _ \\ / _` | __/ _ \\ &quot;,a+16,b+2,red);</span>
<span class="fc" id="L98">        terminal.write(&quot;| |_) | | | (_) &quot;, a, b+3,white);terminal.write(&quot;| | | | | | (_| | || (_) |&quot;, a+16, b+3,red);</span>
<span class="fc" id="L99">        terminal.write(&quot;|____/|_|  \\___/&quot;, a, b+4,white);terminal.write(&quot;|_| |_| |_|\\__,_|\\__\\___/&quot;, a+16, b+4,red);</span>
<span class="fc" id="L100">        display_option(start_game, b+5, terminal, 0);</span>
<span class="fc" id="L101">        display_option(load_game, b+7, terminal, 1);</span>
<span class="fc" id="L102">        display_option(record_game, b+9, terminal, 2);</span>
<span class="fc" id="L103">        display_option(load_map, b+11, terminal, 3);</span>
<span class="fc" id="L104">        display_option(multiple, b+13, terminal, 4);</span>
<span class="pc bpc" id="L105" title="1 of 2 branches missed.">        if(ready_to_multiple){</span>
<span class="nc" id="L106">            display_option(server, b+15, terminal, 5);</span>
<span class="nc" id="L107">            display_option(client, b+17, terminal, 6);</span>
<span class="nc" id="L108">            terminal.write(line, start_length - 1, b+19,white);</span>
        }
        else
<span class="fc" id="L111">            terminal.write(line, start_length - 1, b+15,white);</span>
<span class="fc" id="L112">    }</span>

    public void display_option(String option,int height,AsciiPanel terminal,int status){
<span class="fc" id="L115">        terminal.write(line, start_length - 1, height,white);</span>
<span class="fc" id="L116">        terminal.write(&quot;|&quot;, start_length - 1, height + 1,white);</span>
<span class="fc bfc" id="L117" title="All 2 branches covered.">        if(now_status == status)</span>
<span class="fc" id="L118">            terminal.write(option, start_length, height + 1,white,background);</span>
        else
<span class="fc" id="L120">            terminal.write(option, start_length, height + 1,white);</span>
<span class="fc" id="L121">        terminal.write(&quot;|&quot;, end_length, height + 1,white);</span>
<span class="fc" id="L122">    }</span>


    public boolean player_live_condition(){
<span class="fc" id="L126">        return true;</span>
    }

    public boolean monsters_live_condition(){
<span class="fc" id="L130">        return false;</span>
    }

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>